<rules xmlns="http://namespaces.plone.org/diazo" xmlns:css="http://namespaces.plone.org/diazo/css" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:template match="@*|node()">
      <xsl:copy>
        <xsl:apply-templates select="@*|node()"/>
      </xsl:copy>
    </xsl:template>

    <xsl:template match="a[@class = 'selected']">
        <xsl:copy>
            <xsl:apply-templates select="@*"/>
            <xsl:attribute name="class"><xsl:value-of select="'navTreeCurrentNode navTreeCurrentItem'"/></xsl:attribute>
            <xsl:apply-templates select="node()"/>
        </xsl:copy>
    </xsl:template>

    <xsl:template match="//*[@class = 'event-navigation']/div/ul">
        <dl class="portlet portletNavigationTree"> 
            <dd class="portletItem lastItem">
                <xsl:copy>
                    <xsl:apply-templates select="@*"/>
                    <xsl:attribute name="class"><xsl:value-of select="'navTree navTreeLevel0'"/></xsl:attribute>
                    <xsl:apply-templates select="node()"/>
                </xsl:copy>
            </dd>
        </dl>
    </xsl:template>

    <xsl:template match="//*[@class = 'event-navigation']/div/ul/li">
        <xsl:copy>
            <xsl:apply-templates select="@*"/>
            <xsl:attribute name="class"><xsl:value-of select="'navTreeItem visualNoMarker navTreeFolderish'"/></xsl:attribute>
            <xsl:apply-templates select="node()"/>
        </xsl:copy>
    </xsl:template>
</rules>